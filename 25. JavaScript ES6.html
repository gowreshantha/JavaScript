<html>
    <body>
        <h1>JavaScript ES6 / ES2015 - some of the useful htmk </h1>
        <ul>
            <li>Let and Const Declaration</li>
            <li>Classes and Inheritance</li>
            <li>Template Literals</li>
            <li>New String & Number Methods</li>
            <li>Default Params & Spread Operator</li>
            <li>Set, Map, WeakSet and WeakMap</li>
            <li>Arrow Functions</li>
            <li>Promises</li>
            <li>Generators</li>
        </ul>
        <br>
        <br>
        <div id="template"></div>
    </body>
    <script>
        //Let and Constants
        function testLet(){
            let a = 10;
            if(true)
            {
                let a = 50;
                console.log(a);
            }
            console.log(a);
        }
        testLet();

        //constant
        const colors = [];
        colors.push("Red");
        colors.push("green");
        console.log(colors);
        //colors = "string"; //Exception here as its a constant
        console.log(colors);

        //Classes and Inheritance
        class User{
            constructor(username, email, password){
                this.username = username;
                this.email = email;
                this.password = password;
            }

            register(){
                console.log(this.username+" is registered");
            }
        }
  
        let user1 = new User("gnagesh","test@test.com","gnagesh");
        user1.register();

        class Subsription extends User{
            constructor(username, email, password, subsription)
            {
                super(username, email, password);
                this.subsription = subsription;
            }

            isSubscribed(){
                console.log(this.username+" is subscribed "+this.subsription);
            }
        }

        let subscription1 = new Subsription("gnagesh","test@test.com","gnagesh", true);
        subscription1.isSubscribed();

        //Template Literals
        let name = "GNAGESH";
        function makeUppercase(input){
            return input.toUpperCase();
        }
        let template = `<h1>${makeUppercase("Hello")} ${name}</h1>
        <p>This is a simple tempage in JS</p>`;

        document.getElementById("template").innerHTML = template;

        //New String & Number Methods
        //startsWith()
        //endsWith()
        //includes()
        //Number.isFinite()
        //Number.isNaN()
        //Number.isInteger()
        
        //Set, Map, WeakSet and WeakMap
        let array = [10,11,11,30]
        let mySet = new Set(array);
        mySet.add("string");
        mySet.add({a:1, b:2});
        mySet.delete(30);
        console.log(mySet.size);
        console.log(mySet);
        mySet.forEach(function(value){
            console.log(value);
        });

        let myMap = new Map([['a1','Hello'],['b1','Bye']]);
        myMap.set('c','foo');
        myMap.delete('a1');
        console.log(myMap);

        let myWeakSet = new WeakSet();
        let car1 = {
            brand: "Toyota",
            model:"Fortuner"
        }
        let car2 = {
            brand: "Suzuki",
            model:"Baleno"
        }
        let car3 = {
            brand: "Tata",
            model: "Harrier"
        }
        myWeakSet.add(car1);
        myWeakSet.add(car2);
        myWeakSet.add(car3);
        myWeakSet.delete(car2);
        console.log(myWeakSet);

        let myWeakMap = new WeakMap();
        let key1 = {
            id : 1
        }
        let key2 = {
            id : 2
        }
        let key3 = {
            id : 3
        }
        myWeakMap.set(key1, car1);
        myWeakMap.set(key2, car2);
        myWeakMap.set(key3, car3);
        console.log(myWeakMap);
    </script>
</html>